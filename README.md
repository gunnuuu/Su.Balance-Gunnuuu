# Su.Balance-Gunnuuu
1형 당뇨병 환자를 위한 AI 기반 맞춤형 혈당 관리 웹사이트

프로젝트 개발배경 및 목적



국민건강보험공단에 따르면 사망원인률 6위를 차지하는 당뇨병은 600만명을 넘어서는 증가 추세에 있다. 최근 5년 내 국내 당뇨 인구는 27.8% 증가한 것으로 나타났으며, 30세 이상 7명 중 1명 꼴로 당뇨병을 앓고 있는 것으로 드러났다. 초고령사회를 목전에 둔 가운데 당뇨병 환자 중 65세 이상은 39.2%를 차지하고 있으며, 그에 따라 당뇨병 관리의 중요성이 부각된다. 

[최근 9년간 당뇨병 유병률 추이 - 대한당뇨병학회 2020 실태 보고서]

그 중 특히 1형 당뇨병 환자는 인슐린 분비가 거의 되지 않는 고위험군으로써 직접 인슐린 주사를 투여할 필요가 있는데, 인슐린 주사 투여 과정에서 크게 두가지 특징을 나타낸다.  첫 째, 사람마다 인슐린 분비량이 상이해 적절한 인슐린 투여량을 개인별로 계산 할 필요가 있다. 우리나라에서는 3일 이상의 식사 일기와 혈당기록지를 이용하여 평가하는 방법을 활용하고 있고, 섭취한 음식의 종류와 양, 탄수화물 총량, 인슐린 용량과 혈당수치를 기록하여 식전 혈당, 식후 2시간 혈당이 정상 범위에 들어올 때 까지 관찰하여 조절한다. 해당 과정에서 개인별로 1단위의 인슐린을 주사했을 때 섭취할 수 있는 탄수화물의 교환비를 구할 수 있고, 구한 비율을  다른 모든 식사에 적용시켜 매 끼 섭취 시 적정 인슐린 투여량을 구한다. 위 방법은 바람직하나 매 끼 섭취마다 수학 식 계산이 요구되어 시간과 노력이 소요된다.



[식사 일기 - 혈당 기록지]

둘 째, 지병 특성상 관리가 지속적으로 필요하며 변수가 많아 접근성 높은 관리책이 요구된다. 각 개인별 인슐린 분비량이 다른것 처럼 인슐린 투여에 대한 저항성 또한 차이를 나타내는데, 근육량, 지방에 따라, 혹은 연령에 따라서도 인슐린 투여에 대한 저항성이 변화한다. 본 프로젝트는 AI 추세 학습을 활용해 개인별로 인슐린을 투여했을때의 혈당 반응을 추적하고, AI의 판단에 따라 적정 인슐린 투여량을 확인할 수 있는 프로그램을 개발한다. 프로그램 사용자가 초기 혈당 목표, 매 끼니 식사 구성과 식후 혈당 수치를 프로그램에 지속적으로 입력하면 AI가 판단하여 인슐린 투여를 증가하거나 감소시킬 수 있도록 여러 변수와 인슐린 대 탄수화물 비율을 고려해 적정 투여량을 추천한다. 예컨대, 지방이 많은 식사를 섭취 한 경우 높은 혈당이 오래 지속되므로 추가 인슐린 투여량을 계산하여 추천할 수 있고, 사용자가 운동을 지속적으로 하여 인슐린 반응성이 변화하였을 때 이 추세를 학습하여 더 적은 인슐린 투여를 추천 하는 등, 궁극적으로 올바른 혈당 수준을 유지하여 합병증을 예방하고 당뇨병 관리에 일조한다. 



프로젝트 개발 계획



개발환경 및 개발언어
웹사이트 및 서버는 java를 사용하여 구현하고, python에서 학습한 모델을 API로 가져와 서버에서 출력하는 구조.
Java는 Spring 프레임 워크 사용 python은 Flask or Django 프레임 워크 사용.
DB 미정 (MariaDB or MySQL)

시스템 구성 및 아키텍처


주요 기능 

주요 기능
흐름도
설명
사용자 관리
1. 로그인/회원가입
1-1. 회원가입시 키,몸무게, ISR, 목표혈당치 입력
2. 사용자별 개인정보(몸무게, 키, 혈당 등) 표시


주사량 추천
1.메인화면상 [투여량 계산] 버튼 클릭
2.섭취 음식 종류 체크박스 선택
3. 음식 용량 [g] 입력
4. 탄수화물/단백질/지방 일일 권장 미달/초과 측정
5. 채소량 미달/초과 측정
6. AI 판단 하 적정 인슐린 투여량 표시
6-1. 지방 측정 후 추가 주사 여부 팝업창 표시
- 섭취 음식 영양성분표 데이터 기반 영양성분 입력
- AI 공식 활용 및 이전 추세 기반 적정 투여량 계산
- 체중 관리 목적 영양성분표 분석
- 당뇨 환자에게 필요한 일일 권장 섭취 채소량 미달 판별
- 지방이 높은 식사일 수록 혈당이 미뤄질 수 있음
혈당 일지
1. 메인화면상 [혈당 일지] 버튼 클릭
2. 상단 좌측 목표 혈당 수치 범위 표시
3. 날짜-아침-점심-저녁-간식에 따른 추천 주사 투여량, 혈당 반응 관찰 표 작성
4. 각 날짜별 메모 작성
5. 화면 상단 월별/연도별 요약 그래프 표시
- 목표 혈당 수치 범위 수정 가능
- 월 별 상하 스크롤 표시, 월별 탭 이동 가능
- 그래프별 평균 혈당과 목표혈당 비교
당뇨병 뉴스
1. 메인 화면 상 [뉴스] 버튼 클릭
2. 당뇨병 관련 주요 뉴스 목록 표시


게시판
1. 메인 화면 상 [게시판] 버튼 클릭
2. 글 작성, 댓글 작성 




추진 일정


기대효과 및 활용 분야

기대효과는 크게 두가지 - ① 혈당 수치 적정 범위 유지 ② 생활 식습관 개선이 있다.
위 프로그램은 1형 당뇨병 질환이 있는 환자들을 주 타겟으로 한다. 1형 당뇨병 환자는 적정량의 인슐린 투여를 매일 매 끼니마다 필요로 하는데, 적정량을 투여하지 못할시 고혈당 혹은 저혈당이 발생할 위험이 있다. 기존의 섭취 탄수화물 대비 인슐린 주사 투여량을 계산할 때 소요되는 시간과 노력을 AI 프로그램이 대체 함으로써 사용자에게 수학 계산식을 대신하는 편리함을 제공하고, 추세 분석을 통해 정확한 투여량을 제시함으로써 사용자가 올바른 혈당 수치 범위를 유지할 수 있도록 한다. 정확한 인슐린 주사를 투여할 시 저혈당, 고혈당 예방을 할 수 있고, 오랜기간 저혈당 혹은 고혈당이 유지되었을때 발현되는 신경 장애, 망막병증과 같은 영구적인 신체 손상 합병증을 예방하는것이 프로그램의 최우선 목표이다

또한 프로그램은 사용자가 섭취 식단을 입력할 때 해당 식단의 주 에너지원인 탄수화물, 지방, 단백질 비율을 계산하여 사용자가 올바른 식습관을 가지고 있는지 확인할 수 있게끔 보조한다. 사용자가 프로그램에 입력한 키, 체중, 목표 혈당 관리 등을 통하여 당뇨병 환자에게 독이 되는 비만을 식품 영양성분표와 칼로리 계산으로 경고한다. 추가로, 당뇨병 환자에게 요구되는 일일 채소 섭취량 또한 추적하여 종합적으로 올바른 식습관을 갖도록 유도한다. 부가적인 기능으로는 당뇨병과 관련된 여러 주요 뉴스를 편리하게 제공하고, 당뇨병 환자들만의 인터넷 게시판을 제공해 커뮤니티를 형성한다. 

추후 활용 분야로 접근성이 뛰어난 모바일 어플 개발과 더욱 정확한 식단 진단을 위하여 영양사 혹은 국내 의료진들과의 협업을 기대할 수 있다. 현재 1형 당뇨병 환자들은 음식 별 영양 성분표를 의료진으로부터 제공받아 수기로 표를 보면서 인슐린 용량을 계산하는데, 이것을 자동화 하는 편리성을 제공한다. 추가로, 이미 존재하는 혈당 측정기계로부터 측정 데이터를 자동으로 받아와 프로그램에 업데이트 하는 협업 등이 예상된다.

프로젝트의 독창성 혹은 특장점
기존 인슐린 계산 어플은 단편적인 정보에 의해 적정 투여량을 계산하는 반면, 위 프로그램은 AI 추세 분석을 통해 여러 변수를 고려하여 지속적인 사용자 맞춤 건강 관리 제공한다


기타 참고 문헌
https://www.e-cep.org/upload/pdf/2002451001-20090108180408.PDF
http://www.samsunghospital.com/dept/main/index.do?DP_CODE=DM 
http://koreanfood.rda.go.kr/kfi/fct/fctFoodSrch/list 

